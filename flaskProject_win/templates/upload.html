<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>add_subtitles</title>
		<link rel="stylesheet" type="text/css" href= "{{ url_for('static', filename = 'css/upload.css') }}"/>
	</head>
	<body>
		<div id="root">
			<div id="thewall"><!-- 主体 -->
				<div id="row1"><!-- 第一行 -->
					<span class="row1s" id="row1_col2" style="text-align: center;display:block;" >给你的视频增加字幕</span>
				</div>
				<div id="row3"><!-- 第三行，输入文本框 -->
					<form method="POST" id="uploadFile" enctype="multipart/form-data">
						<div class="file-wraps">
							上传文件
							<input type="file" name="file" />
						</div>
						<label>
							<progress id="progress" value="0" max="100"></progress><span name="progressvalue"></span></label>
						<div class="file-wraps">
							提交文件
						<input type="submit" />
						</div>
					</form>

					<!-- 发送按钮， 创建一个新的div在上方留言区中，并发送文本内容-->
					<!-- 新建的div也具有overflow：scroll属性 -->
				</div>
				<div id="row4">
					<div id="label_team">制作人：</div>
					<div class="teamateHeadLogo t5" ></div>
				</div>
			</div>
		</div>
	</body>

	<script type="text/javascript">
		/* x7blog.com 爱心特效 */
		!function (e, t, a) {function r() {for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x + "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e].scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");requestAnimationFrame(r)}function n() {var t = "function" == typeof e.onclick && e.onclick;e.onclick = function (e) {t && t(), o(e)}}function o(e) {var a = t.createElement("div");a.className = "heart", s.push({el: a,x: e.clientX - 5,y: e.clientY - 5,scale: 1,alpha: 1,color: c()}), t.body.appendChild(a)}function i(e) {var a = t.createElement("style");a.type = "text/css";try {a.appendChild(t.createTextNode(e))} catch (t) {a.styleSheet.cssText = e}t.getElementsByTagName("head")[0].appendChild(a)}function c() {return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + ")"}var s = [];e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e.mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {setTimeout(e, 1e3 / 60)}, i(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"), n(), r()}(window, document);
	</script>
	<script>
        const reader = new FileReader();
        var uploadFile = document.getElementById('uploadFile');
        const progress = document.getElementById('progress');
        const progressvalue = document.getElementsByName('progressvalue');

        uploadFile.onchange = () => {
            const files = event.target.files;
            const file = files[0];
            reader.readAsDataURL(file);
            reader.addEventListener('progress', (event) => {
                if (event.loaded && event.total) {
                    const percent = (event.loaded / event.total) * 100;
                    progress.value = percent
                    progressvalue[0].textContent = percent.toFixed(0) + '%'
                }
            })
        }
    </script>
</html>
